{"version":3,"sources":["components/HeaderBar.jsx","components/FooterBar.jsx","utils.js","components/MapArea.jsx","components/StaticBlock.jsx","components/LocationsTable.jsx","components/Table.jsx","components/Total.jsx","loadData.js","components/BarChart.jsx","components/HBarChart.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["HeaderBar","className","src","alt","FooterBar","href","title","color","icon","padding","size","sumDoseX","y","acc","x","maxX","filterBy","z","filterByArea","filterByAreaITA","replaceArea","area","areaMapping","ABR","BAS","CAL","CAM","EMR","FVG","LAZ","LIG","LOM","MAR","MOL","PAB","PAT","PIE","PUG","SAR","SIC","TOS","UMB","VDA","VEN","areaMappingReverse","obj","retobj","key","inverse","MapArea","props","useState","geographies","setGeographies","select","setSelected","projection","d3","center","rotate","parallels","scale","translate","width","height","useEffect","a","fetch","res","json","data","topojson","objects","regions","features","fetchData","viewBox","preserveAspectRatio","map","d","i","summary","deliverySummary","filter","properties","reg_name","region","length","fill","percentuale_somministrazione","stroke","strokeWidth","onClick","index","handleCountryClick","StaticBlock","classes","text","$","DataTable","ext","sPageButton","sPageButtonActive","sPageButtonDisabled","sPaging","columns","LocationsTable","table","find","dom","language","lengthMenu","info","infoFiltered","search","paginate","next","previous","paging","searching","destroy","pagingType","locations","selected","draw","id","cellSpacing","Table","Total","timestamp","moment","format","tot","toLocaleString","baseURL","sommVaxSummaryURL","sommVaxDetailURL","deliveryVaxDetailURL","vaxSummaryURL","vaxLocationsURL","anagraficaSummaryURL","puntiSommSummaryURL","lastUpdateURL","elaborate","console","log","p","dataSommVaxSummary","reduce","dataVaxSummary","categoriesAndAges","dataProfileSummary","categories","name","code","total","categoriesByRegionRAW","push","categoriesByRegions","Object","keys","dataVaxLocations","gender","gen_m","gen_f","aggr","dataLastUpdate","ultimo_aggiornamento","loadData","resSommVaxSummary","resSommVaxDetail","resDeliveryVaxDetail","resVaxSummary","resProfileSummaryURL","resPointsSommSummaryURL","resVaxLocations","resLastUpdate","dataSommVaxDetail","dataDeliveryVaxDetail","dataPointsSommSummary","BarChart","myRef","useRef","divRef","current","selectAll","remove","responsivefy","svg","container","node","parentNode","parseInt","style","aspect","resize","targetWidth","attr","Math","round","call","window","on","maxScale","property","yprop","append","margin","xScale","yScale","domain","range","xprop","xtitle","ytitle","chart","tickSize","tickFormat","path","enter","bandwidth","exit","ref","HBarChart","App","setSummary","selectedLocation","setSelectedLocation","selectedCategory","setSelectedCategory","then","countryIndex","backgroundColor","slice","areaCode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17d149ca.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport \"bootstrap-italia/dist/css/bootstrap-italia.min.css\";\nimport \"typeface-titillium-web\";\nimport \"typeface-roboto-mono\";\nimport \"typeface-lora\";\n\nexport const HeaderBar = () => {\n  return (\n    <>\n      <div className=\"d-flex flex-column justify-content-center mainBanner\">\n        <div className=\"d-flex justify-content-center\">\n          <img src=\"logo.png\" alt=\"Logo\" className=\"main-logo\" />\n          <span className=\"pl-3\">Report Vaccini Anti COVID-19</span>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from \"react\";\nimport \"../App.css\";\nimport \"bootstrap-italia/dist/css/bootstrap-italia.min.css\";\nimport \"typeface-titillium-web\";\nimport \"typeface-roboto-mono\";\nimport \"typeface-lora\";\nimport { Icon } from \"design-react-kit\";\n\nexport const FooterBar = () => {\n  return (\n    <>\n      <footer className=\"section\">\n        <ul className=\"footer_links clearfix\">\n          <li><a href=\"https://github.com/italia/covid19-dashboard-vaccini\" title=\"\">\n            <Icon\n              color=\"white\"\n              icon=\"it-github\"\n              padding={true}\n              size=\"small\"\n            />\n            GitHub\n          </a></li>\n          <li><a href=\"https://github.com/italia/covid19-opendata-vaccini\" title=\"\">\n            <Icon\n              color=\"white\"\n              icon=\"it-github\"\n              padding={true}\n              size=\"small\"\n            />\n            Open Data\n          </a></li>\n        </ul>\n      </footer>\n    </>\n  );\n};\n","export const sumDose = (acc, x) => acc + +x?.TML_DOSE_1 + +x?.TML_DOSE_2;\nexport const sumDoseXY = (y, z) => (acc, x) => acc + +x?.[y] + +x?.[z];\nexport const sumDoseX = (y) => (acc, x) => acc + +x?.[y];\nexport const maxX = (y) => (acc, x) => (x?.[y] > acc ? x?.[y] : acc);\nexport const aggrBy = (p) => (acc, x) => {\n  let key = x[p];\n  if (!acc[key]) {\n    acc[key] = [];\n  }\n  acc[key].push(x);\n  return acc;\n};\nexport const filterBy = (y) => (z) => (x) => {\n  return x[y] === z;\n};\nexport const filterByArea = filterBy(\"area\");\nexport const filterByAreaITA = filterByArea(\"ITA\");\nexport const filterByAge = filterBy(\"TML_FASCIA_ETA\");\nexport const mapBy = (y) =>\n  Object.keys(y).map((x) => {\n    return { [x]: { sum: y[x].reduce(sumDose, 0) } };\n  });\nexport const mapByX = (y, z) =>\n  Object.keys(y).map((x) => {\n    return { [x]: y[x].reduce(sumDoseX(z), 0) };\n  });\nconst inverse = (obj) => {\n  let retobj = {};\n  for (const key in obj) {\n    retobj[obj[key]] = key;\n  }\n  return retobj;\n};\nexport const replaceArea = (x) => ({ ...x, area: areaMapping[x.area] });\nexport const areaMapping = {\n  ABR: \"Abruzzo\",\n  BAS: \"Basilicata\",\n  CAL: \"Calabria\",\n  CAM: \"Campania\",\n  EMR: \"Emilia-Romagna\",\n  FVG: \"Friuli-Venezia Giulia\",\n  LAZ: \"Lazio\",\n  LIG: \"Liguria\",\n  LOM: \"Lombardia\",\n  MAR: \"Marche\",\n  MOL: \"Molise\",\n  PAB: \"Trentino-Alto Adige/Südtirol\",\n  PAT: \"Prov. Aut. Trento\",\n  PIE: \"Piemonte\",\n  PUG: \"Puglia\",\n  SAR: \"Sardegna\",\n  SIC: \"Sicilia\",\n  TOS: \"Toscana\",\n  UMB: \"Umbria\",\n  VDA: \"Valle d'Aosta/Vallée d'Aoste\",\n  VEN: \"Veneto\",\n};\nexport const areaMappingReverse = inverse(areaMapping);\n\n//\n//   const tot2 = data.reduce(sumDoseXY(\"TML_DOSE_1\", \"TML_DOSE_2\"), 0);\n//   const areasRAW = data.reduce(aggrBy(\"TML_AREA\"), {});\n//   const tot_m = data.reduce(sumDoseX(\"TML_SESSO_M\"), 0);\n//   const tot_f = data.reduce(sumDoseX(\"TML_SESSO_F\"), 0);\n//   const areas = mapBy(areasRAW);\n//   const fascia1619 = data.filter(filterByAge(\"16-19\"));\n//   const fascia2029 = data.filter(filterByAge(\"20-29\"));\n//   const totfascia1619 = fascia1619.reduce(sumDose, 0);\n//   const totfascia2029 = fascia2029.reduce(sumDose, 0);\n","import { React, useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\nimport { filterByArea } from \"../utils\";\n\nimport \"./MapArea.css\"\n\nexport const MapArea = (props) => {\n  const [geographies, setGeographies] = useState([]);\n  const [select, setSelected] = useState([]);\n\n  const handleClick = (x) => {\n    if (select === x) {\n      props.handleCountryClick(null);\n      setSelected(null);\n    } else {\n      props.handleCountryClick(x);\n      setSelected(x);\n    }\n  };\n\n  const width = 498,\n    height = 478;\n\n  const projection = d3\n    .geoAlbers()\n    .center([0, 41])\n    .rotate([347, 0])\n    .parallels([35, 45])\n    .scale(2200)\n    .translate([width / 2, height / 2]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await fetch(\"data/geo/it.json\");\n      const data = await res.json();\n      setGeographies(topojson.feature(data, data.objects.regions).features);\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"maparea-container align-self-center\">\n      <svg viewBox={\"0 0 \" + width + \" \" + height} preserveAspectRatio=\"none\">\n        <g className=\"countries\">\n          {geographies.map((d, i) => {\n            const regions = props.summary?.deliverySummary?.filter(\n              filterByArea(d.properties.reg_name)\n            );\n            let region = {};\n            if (regions && regions.length > 0) {\n              region = regions[0];\n            }\n            return (\n              <path\n                key={`path-${i}`}\n                d={d3.geoPath().projection(projection)(d)}\n                className=\"country\"\n                fill={`rgba(0,102,204,${\n                  (1 / 100) * region.percentuale_somministrazione\n                })`}\n                stroke=\"#FFFFFF\"\n                strokeWidth={0.7}\n                onClick={() => handleClick(region.index)}\n              >\n                <title>\n                  <span className=\"bg-info\">\n                    {region.area} {region.percentuale_somministrazione}%\n                  </span>\n                </title>\n              </path>\n            );\n          })}\n          );\n        </g>\n      </svg>\n    </div>\n  );\n};\n","import { React } from \"react\";\n\nexport const StaticBlock = (props) => {\n  return (\n    <div className={\"d-flex m-2 p-2 pt-4 pb-4 w-100 h-75 justify-content-center text-center \" + props.classes}>\n      {props.text}\n    </div>\n  )\n}","import { React, useEffect } from \"react\";\nimport $ from \"jquery\";\nimport DataTable from \"datatables.net\";\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.min.css\";\n\n$.DataTable = DataTable;\n$.DataTable.ext.classes.sPageButton = 'btn';\n$.DataTable.ext.classes.sPageButtonActive = 'btn-primary text-white';\n$.DataTable.ext.classes.sPageButtonDisabled = 'btn-outline-primary disabled';\n$.DataTable.ext.classes.sPaging = '';\n\nconst columns = [\n  { title: \"Regione\", data: \"area\" },\n  { title: \"Provincia\", data: \"provincia\" },\n  { title: \"Comune\", data: \"comune\" },\n  { title: \"Punto di somministrazione\", data: \"presidio_ospedaliero\" },\n];\n\nexport const LocationsTable = (props) => {\n  useEffect(() => {\n    const table = $(\"#datatable-locations\")\n      .find(\"table\")\n      .DataTable({\n        dom:\n          \"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>\" +\n          \"<'row'<'col-sm-12'tr>>\" +\n          \"<'row pagination-wrapper'<'col-sm-12 pagination'p><'col-sm-12'i>>\",\n        language: {\n          lengthMenu: \"Mostra _MENU_ risultati per pagina\",\n          info: \"Risultati pagina _PAGE_ di _PAGES_\",\n          infoFiltered: \"(filtrati su _MAX_ risultati)\",\n          search: \"Cerca\",\n          paginate: {\n            next: \">\",\n            previous: \"<\"\n          },\n        },\n        paging: true,\n        searching: true,\n        destroy: true,\n        pagingType: \"simple_numbers\",\n        data: props.summary?.locations || [],\n        columns,\n      });\n    if (props?.selected?.area) {\n      table.search(props.selected.area).draw();\n    } else {\n      table.search(\" \").draw();\n    }\n  });\n  return (\n    <div id=\"datatable-locations\">\n      <table\n        className=\"table table-borderless compact table-striped table-hover table-responsive-sm\"\n        cellSpacing=\"0\"\n        width=\"100%\"\n      />\n    </div>\n  );\n};\n","import { React, useEffect } from \"react\";\nimport $ from \"jquery\";\nimport DataTable from \"datatables.net\";\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.min.css\";\n\n$.DataTable = DataTable;\nconst columns = [\n  { title: \"Regioni\", data: \"area\" },\n  { title: \"Somministrazioni\", data: \"dosi_somministrate\" },\n  { title: \"Consegne\", data: \"dosi_consegnate\" },\n  { title: \"%\", data: \"percentuale_somministrazione\" },\n];\n\nexport const Table = (props) => {\n  useEffect(() => {\n    const table = $(\"#datatable\")\n      .find(\"table\")\n      .DataTable({\n        dom:\n          \"<'row'<'col-sm-12 col-md-12'lf>>\" +\n          \"<'row'<'col-sm-12'tr>>\",\n        language: {\n          search: \"Cerca\"\n        },\n        paging: false,\n        searching: true,\n        destroy: true,\n        data: props.summary?.deliverySummary || [],\n        columns,\n      });\n    if (props?.selected?.area) {\n      table.search(props.selected.area).draw();\n    } else {\n      table.search(\" \").draw();\n    }\n  });\n  return (\n    <div id=\"datatable\">\n      <table\n        className=\"table table-borderless compact table-striped table-hover table-responsive-sm\"\n        cellSpacing=\"0\"\n        width=\"100%\"\n      />\n    </div>\n  );\n};\n","import { React } from \"react\";\nimport moment from \"moment\";\n\nexport const Total = (props) => {\n  return (\n    <div className=\"d-flex flex-column justify-content-center h-100 mt-2 mb-3\">\n      <div className=\"timestamp mx-auto\">\n        <h6>\n          Dati aggiornati al:{\" \"}\n          {props.summary.timestamp && moment(props.summary.timestamp).format(\"DD-MM-YYYY HH:mm\")}\n        </h6>\n      </div>\n      <div className=\"container\">\n        <div className=\"d-flex flex-column justify-content-center\">\n          <div className=\"d-flex justify-content-center\">\n            <img src=\"meds.png\" alt=\"meds\" className=\"pr-5\"/>\n            {\" \"}\n            <h1 className=\"pl-5 mt-4 font-weight-light\">{props.summary.tot?.toLocaleString('it')}</h1>\n          </div>\n          <span className=\"border-top mt-2 mb-2\"></span>\n          <div className=\"d-flex justify-content-center\">\n            <img src=\"logo.png\" alt=\"fiore\" height=\"30\" />\n            <img src=\"logo.png\" alt=\"fiore\" height=\"30\" />\n            <img src=\"logo.png\" alt=\"fiore\" height=\"30\" className=\"pr-5\"/>\n            {\" \"}\n            <h6 className=\"pl-5\">Totale vaccinazioni</h6>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { sumDoseX, filterByAreaITA, replaceArea, aggrBy } from \"./utils\";\nconst baseURL =\n  \"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati\";\n\nconst sommVaxSummaryURL = `${baseURL}/somministrazioni-vaccini-summary-latest.json`;\nconst sommVaxDetailURL = `${baseURL}/somministrazioni-vaccini-latest.json`;\nconst deliveryVaxDetailURL = `${baseURL}/consegne-vaccini-latest.json`;\nconst vaxSummaryURL = `${baseURL}/vaccini-summary-latest.json`;\nconst vaxLocationsURL = `${baseURL}/punti-somministrazione-latest.json`;\n\nconst anagraficaSummaryURL = `${baseURL}/anagrafica-vaccini-summary-latest.json`;\nconst puntiSommSummaryURL = `${baseURL}/punti-somministrazione-latest.json`;\nconst lastUpdateURL = `${baseURL}/last-update-dataset.json`;\n\nconst elaborate = (data) => {\n  console.log(data);\n  const tot = data.dataSommVaxSummary.data\n    .filter(filterByAreaITA)\n    .reduce(sumDoseX(\"totale\"), 0);\n  // datatable and map\n  const deliverySummary = data.dataVaxSummary.data.map(replaceArea);\n\n  // categories and ages summary\n  const categoriesAndAges = data.dataProfileSummary.data;\n  const categories = [\n    {\n      name: \"Categoria OSS\",\n      code: \"cat_oss\",\n      total: categoriesAndAges.reduce(\n        sumDoseX(\"categoria_operatori_sanitari_sociosanitari\"),\n        0\n      ),\n    },\n    {\n      name: \"Categoria Ospiti RSA\",\n      code: \"cat_rsa\",\n      total: categoriesAndAges.reduce(sumDoseX(\"categoria_ospiti_rsa\"), 0),\n    },\n    {\n      name: \"Categoria Personale non sanitario\",\n      code: \"cat_pns\",\n      total: categoriesAndAges.reduce(\n        sumDoseX(\"categoria_personale_non_sanitario\"),\n        0\n      ),\n    },\n  ];\n  const categoriesByRegionRAW = data.dataSommVaxSummary.data.reduce(\n    aggrBy(\"area\"),\n    {}\n  );\n  let categoriesByRegions = {};\n  Object.keys(categoriesByRegionRAW).map((x) => {\n    categoriesByRegions[x] = [\n      {\n        name: \"Categoria OSS\",\n        code: \"cat_oss\",\n        total: categoriesByRegionRAW[x].reduce(\n          sumDoseX(\"categoria_operatori_sanitari_sociosanitari\"),\n          0\n        ),\n      },\n      {\n        name: \"Categoria Ospiti RSA\",\n        code: \"cat_rsa\",\n        total: categoriesByRegionRAW[x].reduce(\n          sumDoseX(\"categoria_ospiti_rsa\"),\n          0\n        ),\n      },\n      {\n        name: \"Categoria Personale non sanitario\",\n        code: \"cat_pns\",\n        total: categoriesByRegionRAW[x].reduce(\n          sumDoseX(\"categoria_personale_non_sanitario\"),\n          0\n        ),\n      },\n    ];\n    return categoriesByRegions;\n  });\n\n  const locations = data.dataVaxLocations.data.map(replaceArea);\n\n  const gender = {\n    gen_m: categoriesAndAges.reduce(sumDoseX(\"sesso_maschile\"), 0),\n    gen_f: categoriesAndAges.reduce(sumDoseX(\"sesso_femminile\"), 0),\n  };\n\n  const timestamp = data.dataLastUpdate.ultimo_aggiornamento;\n  const aggr = {\n    timestamp,\n    tot,\n    deliverySummary,\n    categoriesAndAges,\n    categories,\n    categoriesByRegions,\n    locations,\n    gender,\n  };\n  console.log(aggr);\n\n  return aggr;\n};\n\nexport const loadData = async () => {\n  const resSommVaxSummary = await fetch(sommVaxSummaryURL);\n  const resSommVaxDetail = await fetch(sommVaxDetailURL);\n  const resDeliveryVaxDetail = await fetch(deliveryVaxDetailURL);\n  const resVaxSummary = await fetch(vaxSummaryURL);\n  const resProfileSummaryURL = await fetch(anagraficaSummaryURL);\n  const resPointsSommSummaryURL = await fetch(puntiSommSummaryURL);\n  const resVaxLocations = await fetch(vaxLocationsURL);\n  const resLastUpdate = await fetch(lastUpdateURL);\n\n  const dataSommVaxSummary = await resSommVaxSummary.json();\n  const dataSommVaxDetail = await resSommVaxDetail.json();\n  const dataDeliveryVaxDetail = await resDeliveryVaxDetail.json();\n  const dataVaxSummary = await resVaxSummary.json();\n  const dataProfileSummary = await resProfileSummaryURL.json();\n  const dataPointsSommSummary = await resPointsSommSummaryURL.json();\n  const dataVaxLocations = await resVaxLocations.json();\n  const dataLastUpdate = await resLastUpdate.json();\n\n  return {\n    ...elaborate({\n      dataSommVaxSummary,\n      dataSommVaxDetail,\n      dataDeliveryVaxDetail,\n      dataVaxSummary,\n      dataProfileSummary,\n      dataPointsSommSummary,\n      dataLastUpdate,\n      dataVaxLocations,\n    }),\n  };\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport \"../App.css\";\nimport { maxX } from \"../utils\";\n\nexport const BarChart = (props) => {\n  const width = +props.width, //hack to get int\n    height = +props.height;\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n    doExit();\n    draw();\n  });\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n    const data = props?.data || [];\n    const maxScale = data?.reduce(maxX(props.property.yprop), 0) || 0;\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 50, x: 50 };\n\n    // axis\n    const xScale = d3.scaleBand().padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, maxScale]); //max scale should be dynamic\n    yScale.range([height, 0]);\n    xScale.range([0, width]).domain(data.map((d) => d[props.property.xprop]));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-bar\");\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y / 2)\n      .attr(\"class\", \"title\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(props.title);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y * 2)\n      .attr(\"transform\", `translate(0,${height - margin.y / 4})`)\n      .attr(\"class\", \"title\")\n      .text(props.xtitle);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", -(height / 2) - margin.y)\n      .attr(\"y\", margin.x / 2.4)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"class\", \"title\")\n      .text(props.ytitle);\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart.append(\"g\").attr(\"class\", \"axis\").call(d3.axisLeft(yScale));\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(d3.axisBottom(xScale));\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"grid-hline\")\n      .call(d3.axisLeft().scale(yScale).tickSize(-width, 0, 0).tickFormat(\"\"));\n\n    const path = chart.selectAll().data(data);\n\n    path\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .attr(\"x\", (d) => xScale(d[props.property.xprop]))\n      .attr(\"y\", (d) => yScale(d[props.property.yprop]))\n      .attr(\"height\", (d) => height - yScale(d[props.property.yprop]))\n      .attr(\"width\", xScale.bandwidth())\n      .append(\"title\")\n      .attr(\"x\", (d) => xScale(d[props.property.xprop]))\n      .attr(\"y\", (d) => yScale(d[props.property.yprop]))\n      .text((d) => `Fascia ${d[props.property.xprop]} totale: ${d[props.property.yprop]}`);\n\n    path\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"bartext\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"fill\", \"white\")\n      .attr(\"x\", (d) => xScale(d[props.property.xprop]) + 35)\n      .attr(\"y\", (d) =>\n        height - yScale(d[props.property.yprop]) >= 0\n          ? yScale(d[props.property.yprop]) - 10\n          : yScale(d[props.property.yprop])\n      )\n      .text((d) => d[props.property.yprop].toLocaleString('it'));\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport \"../App.css\";\nimport { maxX } from \"../utils\";\n\nexport const HBarChart = (props) => {\n  const width = +props.width, //hack to get int\n    height = +props.height;\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n    doExit();\n    draw();\n  });\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n    const data = props?.data || [];\n    const maxScale = data?.reduce(maxX(props.property.yprop), 0) || 0;\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 80, x: 200 };\n\n    // Add X axis\n    const xScale = d3.scaleLinear().domain([0, maxScale]).range([0, width]);\n    // Y axis\n    const yScale = d3\n      .scaleBand()\n      .range([0, height])\n      .domain(data.map((d) => d[props.property.xprop]))\n      .padding(0.1);\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-horizontal-bar\");\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y / 2)\n      .attr(\"class\", \"hb-title\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(props.title);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y * 2)\n      .attr(\"transform\", `translate(0,${height - margin.y / 4})`)\n      .attr(\"class\", \"hb-title\")\n      .text(props.xtitle);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", -(height / 2) - margin.y)\n      .attr(\"y\", margin.x / 2.4)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"class\", \"hb-title\")\n      .text(props.ytitle);\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart.append(\"g\").attr(\"class\", \"hb-axis\").call(d3.axisLeft(yScale));\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"hb-axis\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(d3.axisBottom(xScale).tickFormat(d => d.toLocaleString('it')))\n      .selectAll(\"text\")\n      .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n      .style(\"text-anchor\", \"end\");\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"hb-grid-hline\")\n      .call(d3.axisLeft().scale(yScale).tickSize(-width, 0, 0).tickFormat(\"\"));\n\n    const path = chart.selectAll().data(data);\n\n    path\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"hb-bar\")\n      .attr(\"x\", xScale(0))\n      .attr(\"y\", (d) => yScale(d[props.property.xprop]))\n      .attr(\"width\", (d) => xScale(d[props.property.yprop]))\n      .attr(\"height\", yScale.bandwidth())\n      .append(\"hb-title\")\n      .attr(\"x\", (d) => xScale(d[props.property.xprop]))\n      .attr(\"y\", (d) => yScale(d[props.property.yprop]))\n      .text(\n        (d) =>\n          `Fascia ${d[props.property.xprop]} totale: ${d[props.property.yprop]}`\n      );\n\n    path\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"hb-bartext\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"fill\", \"white\")\n      .attr(\"x\", (d) => xScale(d[props.property.yprop]) + 35)\n      .attr(\"y\", (d) =>\n        height - yScale(d[props.property.xprop]) >= 60\n          ? yScale(d[props.property.xprop]) + 60\n          : yScale(d[props.property.xprop])\n      )\n      .text((d) => d[props.property.yprop].toLocaleString('it'));\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { HeaderBar } from \"./components/HeaderBar\";\nimport { FooterBar } from \"./components/FooterBar\";\nimport { MapArea } from \"./components/MapArea\";\nimport { StaticBlock } from \"./components/StaticBlock\";\nimport { LocationsTable } from \"./components/LocationsTable\";\nimport { Table } from \"./components/Table\";\nimport { Total } from \"./components/Total\";\nimport { loadData } from \"./loadData\";\nimport { BarChart } from \"./components/BarChart\";\nimport { HBarChart } from \"./components/HBarChart\";\nimport { areaMappingReverse } from \"./utils\";\nimport \"./App.css\";\n\nfunction App() {\n  const [summary, setSummary] = useState({});\n  const [selected, setSelected] = useState({});\n  const [selectedLocation, setSelectedLocation] = useState({});\n  const [selectedCategory, setSelectedCategory] = useState([]);\n\n  const handleCountryClick = (countryIndex) => {\n    setSelected({ ...summary.deliverySummary[countryIndex] });\n  };\n\n  const handleCountryClickLocations = (countryIndex) => {\n    setSelectedLocation({ ...summary.deliverySummary[countryIndex] });\n  };\n\n  const handleCountryClickCategories = (countryIndex) => {\n    const area = summary.deliverySummary[countryIndex]?.area;\n    const areaCode = areaMappingReverse[area];\n    const data = summary.categoriesByRegions[areaCode];\n\n    setSelectedCategory(\n      countryIndex ? data?.slice() || [] : summary.categories\n    );\n  };\n\n  useEffect(() => {\n    loadData().then((d) => {\n      setSummary(d);\n      setSelectedCategory(d.categories);\n    });\n  }, []);\n\n  return (\n    <div>\n      <HeaderBar />\n      <Total className=\"mb-3\" summary={{ ...summary }} />\n      <div\n        className=\"d-flex flex-column flex-sm-row justify-content-center w-75 h-100 mx-auto mt-3\"\n        style={{ height: 150 }}\n      >\n        <StaticBlock\n          classes=\"bg-primary text-white\"\n          text=\"Il 27 dicembre sono state consegnate 9.750 dosi di vaccino, interamente somministrate.\"\n        />\n        <StaticBlock\n          classes=\"bg-primary text-white\"\n          text=\"Dal 30 Dicembre al 1° Gennaio sono state consegnate 469.950 dosi di vaccino.\"\n        />\n      </div>\n      <div\n        className=\"d-flex justify-content-center w-75 mx-auto\"\n        style={{ height: 150 }}\n      >\n        <StaticBlock\n          classes=\"text-black text-uppercase font-weight-bold\"\n          text=\"Le somministrazioni delle 469.950 dosi di vaccino su tutto il territorio sono iniziate il 31 dicembre\"\n        />\n      </div>\n      <div className=\"d-flex flex-column flex-xl-row justify-content-center w-75 mx-auto h-100 mt-3\">\n        <Table\n          summary={{ ...summary }}\n          selected={selected}\n          className=\"mr-5 h-100\"\n        />\n        <MapArea\n          summary={{ ...summary }}\n          handleCountryClick={handleCountryClick}\n          className=\"ml-5 w-100 h-100\"\n        />\n      </div>\n      <h4 className=\"text-center mt-5\">Vaccinazioni per fasce di età</h4>\n      <div className=\"d-flex flex-column flex-xl-row justify-content-center w-100 mx-auto h-100 mt-3\" style={{\n        backgroundColor: '#013366'\n      }}>\n        <BarChart\n          title=\"\"\n          xtitle=\"Fascia d'età\"\n          ytitle=\"\"\n          width=\"800\"\n          height=\"300\"\n          property={{ xprop: \"fascia_anagrafica\", yprop: \"totale\" }}\n          data={summary?.categoriesAndAges?.slice() || []}\n        />\n        <div className=\"d-flex flex-column justify-content-center p-3\">\n          <div className=\"d-flex flex-row flex-xl-column justify-content-center align-items-center\">\n            <img src=\"user_f.png\" alt=\"users\" width=\"80px\"/>\n            <span className=\"mx-3 text-center font-weight-light text-white\">\n              <h3>{summary?.gender?.gen_f?.toLocaleString('it')}</h3>\n            </span>\n          </div>\n          <div className=\"d-flex flex-row flex-xl-column justify-content-center align-items-center\">\n            <img src=\"user_m.png\" alt=\"users\" width=\"80px\"/>\n            <span className=\"mx-3 text-center font-weight-light text-white\">\n              <h3>{summary?.gender?.gen_m?.toLocaleString('it')}</h3>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <h4 className=\"text-center mt-5\">Vaccinazioni per categoria</h4>\n      <div className=\"d-flex flex-column flex-xl-row justify-content-center mx-auto h-100 mt-3\">\n        <HBarChart\n          title=\"\"\n          xtitle=\"Vaccinazioni per categoria\"\n          ytitle=\"\"\n          width=\"400\"\n          height=\"400\"\n          property={{ xprop: \"name\", yprop: \"total\" }}\n          data={selectedCategory?.slice() || []}\n        />\n        <MapArea\n          summary={{ ...summary }}\n          handleCountryClick={handleCountryClickCategories}\n          className=\"ml-5 w-100 h-100\"\n        />\n      </div>\n\n      <h4 className=\"text-center mt-5\">Punti di somministrazione</h4>\n      <div className=\"d-flex flex-column flex-xl-row justify-content-center w-75 mx-auto h-100 mt-3\">\n        <LocationsTable\n          summary={{ ...summary }}\n          selected={selectedLocation}\n          className=\"mr-5 h-100\"\n        />\n        <MapArea\n          summary={{ ...summary }}\n          handleCountryClick={handleCountryClickLocations}\n          className=\"ml-5 w-100 h-100\"\n        />\n      </div>\n\n      <FooterBar />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}